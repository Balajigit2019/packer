{
"variables": {
"instance_size": "t2.small",                   #change has per your request
"ami_name": "ami-jenkins",                     #change has per your request
"base_ami": "ami-0cfedf42e63bba657",           #change has per your request
"ssh_username": "ubuntu",                      #Change has per your request, here i have used ubuntu image, so user name ubutu
"vpc_id": "",
"subnet_id": ""
},
"builders": [
{
"type": "amazon-ebs",
"region": "ap-south-1",                        #change has per your request
"source_ami": "{{user `base_ami`}}",
"instance_type": "{{user `instance_size`}}",
"ssh_username": "{{user `ssh_username`}}",
"ssh_timeout": "20m",
"ami_name": "{{user `ami_name`}}",
"ssh_pty": "true",
"vpc_id": "{{user `vpc_id`}}",
"subnet_id": "{{user `subnet_id`}}",
"tags": {
"Name": "Jenkins_ami",                        #change has per your request
"BuiltBy": "Packer"                           #change has per your request
}
}
],
"description": "AWS image",
"provisioners": [
{
"type": "shell",
"inline": [
"sudo apt-get update -y",
"sudo apt-get install openjdk-8-jdk -y",
"wget -q -O - https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo apt-key add -",
"sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'",
"sudo apt-get update -y",
"sudo apt install jenkins -y",
"sudo systemctl start jenkins"
]
}
]
}
